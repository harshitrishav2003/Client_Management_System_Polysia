{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jwtDecode}from\"jwt-decode\";import{Container,TextField,Button,Typography,Alert,Box,Card,CardContent,CircularProgress,Grid,Divider,InputAdornment}from\"@mui/material\";import{motion}from\"framer-motion\";import{Email,Lock}from\"@mui/icons-material\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminLogin=()=>{const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(\"\");try{const response=await axios.post(\"http://localhost:5005/api/login\",{email,password});const{token}=response.data;localStorage.setItem(\"jwtToken\",token);const decodedToken=jwtDecode(token);if(decodedToken.role===\"admin\"){window.location.href=\"/dashboard\";}else{setError(\"Unauthorized access.\");}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Invalid credentials. Please try again.\");}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{mt:12,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsx(Card,{sx:{boxShadow:8,borderRadius:4,px:5,py:6,width:\"500px\"},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",fontWeight:\"bold\",gutterBottom:true,align:\"center\",color:\"primary\",children:\"Admin Login\"}),/*#__PURE__*/_jsx(Divider,{sx:{mb:3}}),error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0.5},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error})}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{display:\"flex\",flexDirection:\"column\",gap:3},children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},children:/*#__PURE__*/_jsx(TextField,{label:\"Email Address\",type:\"email\",variant:\"outlined\",fullWidth:true,value:email,onChange:e=>setEmail(e.target.value),required:true,autoFocus:true,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Email,{color:\"action\"})})}})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.5},children:/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",variant:\"outlined\",fullWidth:true,value:password,onChange:e=>setPassword(e.target.value),required:true,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Lock,{color:\"action\"})})}})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.7},children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,sx:{height:48,fontSize:18,fontWeight:\"bold\",textTransform:\"none\"},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:26,color:\"inherit\"}):\"Sign In\"})})]})]})})})});};export default AdminLogin;","map":{"version":3,"names":["React","useState","axios","jwtDecode","Container","TextField","Button","Typography","Alert","Box","Card","CardContent","CircularProgress","Grid","Divider","InputAdornment","motion","Email","Lock","jsx","_jsx","jsxs","_jsxs","AdminLogin","email","setEmail","password","setPassword","error","setError","loading","setLoading","handleSubmit","e","preventDefault","response","post","token","data","localStorage","setItem","decodedToken","role","window","location","href","err","_err$response","_err$response$data","message","maxWidth","sx","mt","display","justifyContent","alignItems","children","div","initial","opacity","y","animate","transition","duration","boxShadow","borderRadius","px","py","width","variant","fontWeight","gutterBottom","align","color","mb","severity","component","onSubmit","flexDirection","gap","delay","label","type","fullWidth","value","onChange","target","required","autoFocus","InputProps","startAdornment","position","height","fontSize","textTransform","disabled","size"],"sources":["/Users/harshitrishav/Demo/jwt-auth-frontend/src/components/AdminLogin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { Container, TextField, Button, Typography, Alert, Box, Card, CardContent, CircularProgress, Grid, Divider, InputAdornment } from \"@mui/material\";\nimport { motion } from \"framer-motion\";\nimport { Email, Lock } from \"@mui/icons-material\";\n\nconst AdminLogin = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    \n    try {\n      const response = await axios.post(\"http://localhost:5005/api/login\", { email, password });\n      const { token } = response.data;\n      localStorage.setItem(\"jwtToken\", token);\n\n      const decodedToken = jwtDecode(token);\n      if (decodedToken.role === \"admin\") {\n        window.location.href = \"/dashboard\";\n      } else {\n        setError(\"Unauthorized access.\");\n      }\n    } catch (err) {\n      setError(err.response?.data?.message || \"Invalid credentials. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 12, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n      <motion.div\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.6 }}\n      >\n        <Card sx={{ boxShadow: 8, borderRadius: 4, px: 5, py: 6, width: \"500px\" }}>\n          <CardContent>\n            <Typography variant=\"h4\" fontWeight=\"bold\" gutterBottom align=\"center\" color=\"primary\">\n              Admin Login\n            </Typography>\n            <Divider sx={{ mb: 3 }} />\n            {error && (\n              <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.5 }}>\n                <Alert severity=\"error\" sx={{ mb: 3 }}>{error}</Alert>\n              </motion.div>\n            )}\n            <Box component=\"form\" onSubmit={handleSubmit} sx={{ display: \"flex\", flexDirection: \"column\", gap: 3 }}>\n              <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }}>\n                <TextField\n                  label=\"Email Address\"\n                  type=\"email\"\n                  variant=\"outlined\"\n                  fullWidth\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  autoFocus\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <Email color=\"action\" />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </motion.div>\n              <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }}>\n                <TextField\n                  label=\"Password\"\n                  type=\"password\"\n                  variant=\"outlined\"\n                  fullWidth\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <Lock color=\"action\" />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </motion.div>\n              <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.7 }}>\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  fullWidth\n                  sx={{ height: 48, fontSize: 18, fontWeight: \"bold\", textTransform: \"none\" }}\n                  disabled={loading}\n                >\n                  {loading ? <CircularProgress size={26} color=\"inherit\" /> : \"Sign In\"}\n                </Button>\n              </motion.div>\n            </Box>\n            {/* <Grid container justifyContent=\"flex-end\" sx={{ mt: 2 }}>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                Forgot password?\n              </Typography>\n            </Grid> */}\n          </CardContent>\n        </Card>\n      </motion.div>\n    </Container>\n  );\n};\n\nexport default AdminLogin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}