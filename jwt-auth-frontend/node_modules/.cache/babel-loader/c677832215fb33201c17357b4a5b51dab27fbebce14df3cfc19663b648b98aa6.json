{"ast":null,"code":"var _jsxFileName = \"/Users/harshitrishav/Demo/jwt-auth-frontend/src/components/AdminLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jwtDecode } from \"jwt-decode\"; // Corrected import statement\nimport LoginForm from \"./LoginForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminLogin = () => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:5005/api/login\", {\n        email,\n        password\n      });\n      const {\n        token\n      } = response.data;\n      localStorage.setItem(\"jwtToken\", token);\n      const decodedToken = jwtDecode(token); // Corrected usage of jwtDecode\n      if (decodedToken.role === \"admin\") {\n        window.location.href = \"/dashboard\";\n      } else {\n        setError(\"Unauthorized access.\");\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Invalid credentials. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(LoginForm, {\n    onSubmit: handleSubmit,\n    onChange: (e, field) => field === \"email\" ? setEmail(e.target.value) : setPassword(e.target.value),\n    email: email,\n    password: password,\n    error: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminLogin, \"/oUdbphBttpIcUsa7P1v1069QkA=\");\n_c = AdminLogin;\nexport default AdminLogin;\n// import React, { useState } from \"react\";\n// import axios from \"axios\";\n// import { jwtDecode } from \"jwt-decode\";\n// import { Container, TextField, Button, Typography, Alert, Box, Card, CardContent, CircularProgress, Grid, Divider, InputAdornment } from \"@mui/material\";\n// import { motion } from \"framer-motion\";\n// import { Email, Lock } from \"@mui/icons-material\";\n\n// const AdminLogin = () => {\n//   const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [error, setError] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError(\"\");\n\n//     try {\n//       const response = await axios.post(\"http://localhost:5005/api/login\", { email, password });\n//       const { token } = response.data;\n//       localStorage.setItem(\"jwtToken\", token);\n\n//       const decodedToken = jwtDecode(token);\n//       if (decodedToken.role === \"admin\") {\n//         window.location.href = \"/dashboard\";\n//       } else {\n//         setError(\"Unauthorized access.\");\n//       }\n//     } catch (err) {\n//       setError(err.response?.data?.message || \"Invalid credentials. Please try again.\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <Container maxWidth=\"md\" sx={{ mt: 12, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n//       <motion.div\n//         initial={{ opacity: 0, y: -20 }}\n//         animate={{ opacity: 1, y: 0 }}\n//         transition={{ duration: 0.6 }}\n//       >\n//         <Card sx={{ boxShadow: 8, borderRadius: 4, px: 5, py: 6, width: \"500px\" }}>\n//           <CardContent>\n//             <Typography variant=\"h4\" fontWeight=\"bold\" gutterBottom align=\"center\" color=\"primary\">\n//               Admin Login\n//             </Typography>\n//             <Divider sx={{ mb: 3 }} />\n//             {error && (\n//               <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.5 }}>\n//                 <Alert severity=\"error\" sx={{ mb: 3 }}>{error}</Alert>\n//               </motion.div>\n//             )}\n//             <Box component=\"form\" onSubmit={handleSubmit} sx={{ display: \"flex\", flexDirection: \"column\", gap: 3 }}>\n//               <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }}>\n//                 <TextField\n//                   label=\"Email Address\"\n//                   type=\"email\"\n//                   variant=\"outlined\"\n//                   fullWidth\n//                   value={email}\n//                   onChange={(e) => setEmail(e.target.value)}\n//                   required\n//                   autoFocus\n//                   InputProps={{\n//                     startAdornment: (\n//                       <InputAdornment position=\"start\">\n//                         <Email color=\"action\" />\n//                       </InputAdornment>\n//                     ),\n//                   }}\n//                 />\n//               </motion.div>\n//               <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }}>\n//                 <TextField\n//                   label=\"Password\"\n//                   type=\"password\"\n//                   variant=\"outlined\"\n//                   fullWidth\n//                   value={password}\n//                   onChange={(e) => setPassword(e.target.value)}\n//                   required\n//                   InputProps={{\n//                     startAdornment: (\n//                       <InputAdornment position=\"start\">\n//                         <Lock color=\"action\" />\n//                       </InputAdornment>\n//                     ),\n//                   }}\n//                 />\n//               </motion.div>\n//               <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.7 }}>\n//                 <Button\n//                   type=\"submit\"\n//                   variant=\"contained\"\n//                   color=\"primary\"\n//                   fullWidth\n//                   sx={{ height: 48, fontSize: 18, fontWeight: \"bold\", textTransform: \"none\" }}\n//                   disabled={loading}\n//                 >\n//                   {loading ? <CircularProgress size={26} color=\"inherit\" /> : \"Sign In\"}\n//                 </Button>\n//               </motion.div>\n//             </Box>\n//             <Grid container justifyContent=\"flex-end\" sx={{ mt: 2 }}>\n//               <Typography variant=\"body2\" color=\"textSecondary\">\n//                 Forgot password?\n//               </Typography>\n//             </Grid>\n//           </CardContent>\n//         </Card>\n//       </motion.div>\n//     </Container>\n//   );\n// };\n\n// export default AdminLogin;\nvar _c;\n$RefreshReg$(_c, \"AdminLogin\");","map":{"version":3,"names":["React","useState","axios","jwtDecode","LoginForm","jsxDEV","_jsxDEV","AdminLogin","_s","email","setEmail","password","setPassword","error","setError","handleSubmit","e","preventDefault","response","post","token","data","localStorage","setItem","decodedToken","role","window","location","href","err","_err$response","_err$response$data","message","onSubmit","onChange","field","target","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/harshitrishav/Demo/jwt-auth-frontend/src/components/AdminLogin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jwtDecode } from \"jwt-decode\"; // Corrected import statement\nimport LoginForm from \"./LoginForm\";\n\nconst AdminLogin = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:5005/api/login\", { email, password });\n      const { token } = response.data;\n      localStorage.setItem(\"jwtToken\", token);\n\n      const decodedToken = jwtDecode(token); // Corrected usage of jwtDecode\n      if (decodedToken.role === \"admin\") {\n        window.location.href = \"/dashboard\";\n      } else {\n        setError(\"Unauthorized access.\");\n      }\n    } catch (err) {\n      setError(err.response?.data?.message || \"Invalid credentials. Please try again.\");\n    }\n  };\n\n  return (\n    <LoginForm\n      onSubmit={handleSubmit}\n      onChange={(e, field) => (field === \"email\" ? setEmail(e.target.value) : setPassword(e.target.value))}\n      email={email}\n      password={password}\n      error={error}\n    />\n  );\n};\n\nexport default AdminLogin;\n// import React, { useState } from \"react\";\n// import axios from \"axios\";\n// import { jwtDecode } from \"jwt-decode\";\n// import { Container, TextField, Button, Typography, Alert, Box, Card, CardContent, CircularProgress, Grid, Divider, InputAdornment } from \"@mui/material\";\n// import { motion } from \"framer-motion\";\n// import { Email, Lock } from \"@mui/icons-material\";\n\n// const AdminLogin = () => {\n//   const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [error, setError] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError(\"\");\n    \n//     try {\n//       const response = await axios.post(\"http://localhost:5005/api/login\", { email, password });\n//       const { token } = response.data;\n//       localStorage.setItem(\"jwtToken\", token);\n\n//       const decodedToken = jwtDecode(token);\n//       if (decodedToken.role === \"admin\") {\n//         window.location.href = \"/dashboard\";\n//       } else {\n//         setError(\"Unauthorized access.\");\n//       }\n//     } catch (err) {\n//       setError(err.response?.data?.message || \"Invalid credentials. Please try again.\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <Container maxWidth=\"md\" sx={{ mt: 12, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n//       <motion.div\n//         initial={{ opacity: 0, y: -20 }}\n//         animate={{ opacity: 1, y: 0 }}\n//         transition={{ duration: 0.6 }}\n//       >\n//         <Card sx={{ boxShadow: 8, borderRadius: 4, px: 5, py: 6, width: \"500px\" }}>\n//           <CardContent>\n//             <Typography variant=\"h4\" fontWeight=\"bold\" gutterBottom align=\"center\" color=\"primary\">\n//               Admin Login\n//             </Typography>\n//             <Divider sx={{ mb: 3 }} />\n//             {error && (\n//               <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.5 }}>\n//                 <Alert severity=\"error\" sx={{ mb: 3 }}>{error}</Alert>\n//               </motion.div>\n//             )}\n//             <Box component=\"form\" onSubmit={handleSubmit} sx={{ display: \"flex\", flexDirection: \"column\", gap: 3 }}>\n//               <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }}>\n//                 <TextField\n//                   label=\"Email Address\"\n//                   type=\"email\"\n//                   variant=\"outlined\"\n//                   fullWidth\n//                   value={email}\n//                   onChange={(e) => setEmail(e.target.value)}\n//                   required\n//                   autoFocus\n//                   InputProps={{\n//                     startAdornment: (\n//                       <InputAdornment position=\"start\">\n//                         <Email color=\"action\" />\n//                       </InputAdornment>\n//                     ),\n//                   }}\n//                 />\n//               </motion.div>\n//               <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }}>\n//                 <TextField\n//                   label=\"Password\"\n//                   type=\"password\"\n//                   variant=\"outlined\"\n//                   fullWidth\n//                   value={password}\n//                   onChange={(e) => setPassword(e.target.value)}\n//                   required\n//                   InputProps={{\n//                     startAdornment: (\n//                       <InputAdornment position=\"start\">\n//                         <Lock color=\"action\" />\n//                       </InputAdornment>\n//                     ),\n//                   }}\n//                 />\n//               </motion.div>\n//               <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.7 }}>\n//                 <Button\n//                   type=\"submit\"\n//                   variant=\"contained\"\n//                   color=\"primary\"\n//                   fullWidth\n//                   sx={{ height: 48, fontSize: 18, fontWeight: \"bold\", textTransform: \"none\" }}\n//                   disabled={loading}\n//                 >\n//                   {loading ? <CircularProgress size={26} color=\"inherit\" /> : \"Sign In\"}\n//                 </Button>\n//               </motion.div>\n//             </Box>\n//             <Grid container justifyContent=\"flex-end\" sx={{ mt: 2 }}>\n//               <Typography variant=\"body2\" color=\"textSecondary\">\n//                 Forgot password?\n//               </Typography>\n//             </Grid>\n//           </CardContent>\n//         </Card>\n//       </motion.div>\n//     </Container>\n//   );\n// };\n\n// export default AdminLogin;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,YAAY,CAAC,CAAC;AACxC,OAAOC,SAAS,MAAM,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMc,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAAC,iCAAiC,EAAE;QAAEV,KAAK;QAAEE;MAAS,CAAC,CAAC;MACzF,MAAM;QAAES;MAAM,CAAC,GAAGF,QAAQ,CAACG,IAAI;MAC/BC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEH,KAAK,CAAC;MAEvC,MAAMI,YAAY,GAAGrB,SAAS,CAACiB,KAAK,CAAC,CAAC,CAAC;MACvC,IAAII,YAAY,CAACC,IAAI,KAAK,OAAO,EAAE;QACjCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,YAAY;MACrC,CAAC,MAAM;QACLd,QAAQ,CAAC,sBAAsB,CAAC;MAClC;IACF,CAAC,CAAC,OAAOe,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZjB,QAAQ,CAAC,EAAAgB,aAAA,GAAAD,GAAG,CAACX,QAAQ,cAAAY,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcT,IAAI,cAAAU,kBAAA,uBAAlBA,kBAAA,CAAoBC,OAAO,KAAI,wCAAwC,CAAC;IACnF;EACF,CAAC;EAED,oBACE1B,OAAA,CAACF,SAAS;IACR6B,QAAQ,EAAElB,YAAa;IACvBmB,QAAQ,EAAEA,CAAClB,CAAC,EAAEmB,KAAK,KAAMA,KAAK,KAAK,OAAO,GAAGzB,QAAQ,CAACM,CAAC,CAACoB,MAAM,CAACC,KAAK,CAAC,GAAGzB,WAAW,CAACI,CAAC,CAACoB,MAAM,CAACC,KAAK,CAAG;IACrG5B,KAAK,EAAEA,KAAM;IACbE,QAAQ,EAAEA,QAAS;IACnBE,KAAK,EAAEA;EAAM;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACd,CAAC;AAEN,CAAC;AAACjC,EAAA,CAhCID,UAAU;AAAAmC,EAAA,GAAVnC,UAAU;AAkChB,eAAeA,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}